<div class="container"  data-ng-controller="JobAdsController">
    <form name="jobAds" class="col-sm-10">
        <h1>Job Ads</h1>
        <button class="btn btn-primary" ng-click="createJobAd()"><span class="glyphicon glyphicon-plus"></span> Create Job Ad</button>
        <hr />
        <h1>Search for Job Ads</h1>
        <div class="row">
            <div class="form-group col-sm-3" ng-class="{'has-error':jobAds.searchTerm.$touched && jobAds.searchTerm.$invalid}">
                <label for="searchTerm" class="control-label">Enter Search Term</label>
                <input type="text"
                       class="form-control"
                       name="searchTerm"
                       data-ng-model="searchTerm"
                       placeholder="Enter Search Term"
                       ng-minlength="1"
                       ng-maxlength="50"
                       ng-required="true"
                       ng-trim />
                <div class="help-block" ng-messages="jobAds.searchTerm.$error" ng-if="jobAds.searchTerm.$touched" role="alert" ng-messages-multiple>
                    <div ng-message="required">Please enter search term</div>
                    <div ng-message-exp="['minlength','maxlength']">Search term must be between 1 and 50 characters long</div>
                </div>
            </div>
            <div class=" col-sm-3">
                <div class="form-group">
                    <label for="searchOption" class="control-label">Search By</label>
                    <p class="input-group">
                        <select class="form-control" name="searchOption" data-ng-model="selectedSearchBy"
                                data-ng-options="searchOption for searchOption in searchByOptions"></select>
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-primary" ng-click="search()"><span class="glyphicon glyphicon-search"></span> Search</button>
                        </span>
                    </p>
                </div>
            </div>
        </div>
    </form>
    <ul class="list-group" ng-repeat="jobAd in jobAds">
        <li class="list-group-item">
            <div class="col-sm-10">
                <div class="row">
                    <div class="col-sm-2">
                        <img src="jobAd.logoURL" alt="logo" class="img-thumbnail" height="140" width="140" />
                        <p><span><strong>{{jobAd.companyName}}</strong></span></p>
                    </div>
                    <div class="col-sm-8">
                        <h4><strong>{{jobAd.jobTitle}}</strong></h4>
                        <h5>{{jobAd.jobLocationTown}} {{jobAd.jobLocationCountry}}</h5>
                        <p><span>{{jobAd.jobType}} {{jobAd.jobLevel}} Position</span></p>
                        <p><span>{{jobAd.salaryCurrency}}{{jobAd.minimumSalary}}-{{jobAd.maximumSalary}} {{jobAd.salaryFrequency}} {{jobAd.renumerationType}}</span></p>
                        <p><span> JobID: {{jobAd.jobID}}|Job Ref:{{jobAd.jobREF}}</span></p>
                        <p><span>Sector: {{jobAd.sector}}</span></p>
                        <p><span>Posted by {{jobAd.companyName}} on {{jobAd.postedDate}}</span></p>
                        <p><span>Expires in {{jobAd.daysLeft}} days</span>      <button ng-click="viewJobAd($index)" class="btn btn-primary">View</button></p>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</div>
